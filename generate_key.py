import hashlib
import base64
from cryptography.fernet import Fernet

# Enhanced custom key generation method
def custom_key_generation(decryption_code):
    intermediate = hashlib.sha256(decryption_code.encode()).digest()
    intermediate = base64.urlsafe_b64encode(intermediate).decode()
    intermediate = hashlib.md5(intermediate.encode()).hexdigest()
    key = base64.urlsafe_b64encode(intermediate.encode()).decode()[:32]
    key = base64.urlsafe_b64encode(hashlib.sha1(key.encode()).digest()).decode()[:32]
    return key

def main():
    decryption_code = input("Enter the decryption code: ")
    encryption_key = custom_key_generation(decryption_code)
    print(f"Encryption Key: {encryption_key}")

if __name__ == "__main__":
    main()
